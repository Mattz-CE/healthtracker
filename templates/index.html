{% extends "base.html" %}

{% block head %}
<title>Task Master</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/sign-in/">
<link href="../static/css/bootstrap.min.css" rel="stylesheet">
<!-- Set favicon to ../static/favicon.ico -->
<link rel="icon" href="../static/favicon.ico" type="image/x-icon">
{% endblock %}

{% block body %}

<!-- create a main container for body -->
<div class="container">
    <!-- Centerize the title -->
    <div class="text-center">
        <!-- Set the title with large top spacing and small bottom spacing -->
        <h1 class="my-5">Task Master</h1>

        <!-- Add large spacing between the title and the buttons -->
        <div class="my-3">

            <!-- Provide two buttons to create and delete tasks -->
            <form action="/" method="POST">
                <!-- Prompt the following but not with form-controll as it's too wide -->
                <!-- title, content -->

                <input type="text" name="title" id="title" placeholder="Title" class="form-text">
                <input type="text" name="content" id="content" placeholder="Content" class="form-text">
                <input type="text" name="user" id="content" placeholder="User" class="form-text">
                <input type="submit" value="Add Task" class="btn btn-primary">
            </form>
        </div>

        <!-- Set horizontal Margins for the following div -->
        <div class="mx-lg-5">
            <!-- Centerize the following table -->
            <table class="table table-striped table-bordered table-hover table-sm">
                <!--     
            id = db.Column(db.Integer, primary_key=True)
            title = db.Column(db.String(200), nullable=False)
            content = db.Column(db.String(200), nullable=False)
            completed = db.Column(db.Integer, default=0)
            date_created = db.Column(db.DateTime, default=db.func.current_timestamp()) 
        -->
                <tr>
                    <th>Task ID</th>
                    <th>Title</th>
                    <th>Content</th>
                    <th>Completed</th>
                    <th>Date Created</th>
                    <th>Update</th>
                    <th>Delete</th>
                </tr>
                {% for task in tasks %}
                <!-- List all the tasks and center vertically-->
                <tr class="align-middle">
                    <td>{{ task.id }}</td>
                    <td>{{ task.title }}</td>
                    <td>{{ task.content }}</td>
                    <td>{{ task.completed }}</td>
                    <td>{{ task.date_created }}</td>
                    <!-- Offer a select option -->
                    <td>
                        <form action="/update/{{task.id}}" method="POST">
                            <input type="submit" value="Update" class="btn btn-primary">
                        </form>
                    </td>
                    <td>
                        <form action="/delete/{{task.id}}" method="POST">
                            <input type="submit" value="Delete" class="btn btn-danger">
                        </form>
                    </td>
                    {% endfor %}
            </table>
            <div />
            <div />
            <div />
            {% endblock %}